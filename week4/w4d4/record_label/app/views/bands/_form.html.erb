<% url = (action == :new) ? bands_url : band_url(band) %>
<% http_verb = {:new => 'post', :edit => 'patch'}[action] %>
<% action_description = {:new => 'Create', :edit => 'Update'}[action] %>

<form action="<%= url %>" method="post">
  <input type='hidden' name='_method' value='<%= http_verb %>'/>
  <input type="hidden"
         name="authenticity_token"
         value="<%= form_authenticity_token %>" />

  <label>Band name
    <input type="text" name="band[name]" value="<%= @band.name %>">
  </label>
  <br>

  <input type="submit" value="<%= action_description %>">
</form>